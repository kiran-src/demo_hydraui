 <style>
  body {
            /* font-family: Arial, sans-serif; */
            /* background-color: #f5f7fa; */
            margin: 0;
            padding: 0;
        }
 
        .tabs {
            display: flex;
            background-color: #fff;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            width: fit-content;
        }
 
        .tab {
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            margin-right: 5px;
            background-color: #f2f2f2;
        }
 
        .tab.active {
            background-color: #005c8f;
            color: white;
        }
 
        .card-container {
          display: flex;
  justify-content: flex-start; /* Aligns the cards to the left */
  align-items: flex-start; /* Aligns items along the cross axis (vertically if row) */
  flex-wrap: wrap; /* Allows the cards to wrap onto the next row */
            /* margin-left: 40px; */
            gap: 80px; /* Adds space between the cards */
        }
 
        .pipeline-card {
            background-color: white;
            padding: 20px;
            width: 200px;
            border-radius: 4px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
            text-align: left;
            /* margin-left: 20px; */
        }
 
        .pipeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
 
        /* .status-failed {
            background-color: #ff6b6b;
            color: white;
            padding: 5px 10px;
            border-radius: 12px;
            font-size: 12px;
        } */
 
        .pipeline-info {
            font-size: 8px;
            color: #333;
        }
 
        .new-pipeline {
            background-color: #005c8f;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            margin: 10px;
            /* cursor: pointer; */
            position: absolute;
  top: 18%; /* vertical centering */
  right: 0; /* aligns to right */
  transform: translateY(-50%);


            
            
        }

/* Recent runs */
.container {
    /* width: 60%; */
    max-width: 800px;
    /* margin: 0 auto; */
    /* margin-left: 20px; */
    background-color: #fff;
    border-radius: 10px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    padding: 20px;

    width: auto; /* Ensures the table adapts to the content size */
  margin-left: 0; /* Align the table to the left */
  border-collapse: collapse; /* Remove spacing between table cells */
}

h2 {
    margin-bottom: 20px;
    color: #333;
}

table {
    width: 100%;
    border-collapse: collapse;
}

thead {
    background-color: #f0f2f5;
}

thead th {
    text-align: left;
    padding: 10px;
    color: #666;
    font-weight: normal;
    font-size: 14px;
}

tbody td {
    padding: 15px 10px;
    border-bottom: 1px solid #eee;
    color: #333;
    font-size: 14px;
}

tbody tr:hover {
    background-color: #f9f9f9;
}

.status {
    padding: 5px 10px;
    border-radius: 5px;
    font-size: 12px;
}

.building {
    background-color: #e0f7fa;
    color: #005c8f;
}

.completed {
    background-color: #e0fbe0;
    color: #43a047;
}

/* Button Styling */
button {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 16px;
    margin-right: 10px;
}

button:last-child {
    margin-right: 0;
}

.view-btn {
    color: #005c8f;
}

.edit-btn {
    color: #005c8f;
}

/* General styling for action buttons */
.action-btn {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    border: none;
    cursor: pointer;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    font-size: 16px;
    color: white;
    background-color: #007bff;
    transition: background-color 0.3s ease;
    margin-right: 8px; /* Space between buttons */
}

/* .action-btn:hover {
    background-color: #0056b3;
} */

/* .view-btn {
    background-color: #ffc107;
} */



/* .edit-btn {
    background-color: grey;
} */



.fas {
    pointer-events: none; /* Ensures that only the button, not the icon, responds to click */
}
 </style>
 
 <!-- Tabs -->
 <div class="tabs">
  <a href="/summary-dashboard" class="tab">Summary</a>
  <a href="/test-excution-dashboard" class="tab">Execution</a>
  <a href="/build-visual" class="tab active">Pipelines</a>
</div>
<!-- New Pipeline Button -->
<a href="https://dev.azure.com/Team-Catalyst/Project%20HYDRA/_apps/hub/ms.vss-build-web.ci-designer-hub" class="new-pipeline">+ New Pipeline</a>





<!-- Cards and New Pipeline Button -->
<!-- <div class="card-container">
<div class="pipeline-card">
<div class="pipeline-header">
<h5>Pipeline 1</h5>
<span>...</span>
</div>
<div class="status-failed">Failed</div>
<div class="pipeline-info">
<p>Version: 1.0</p>
<p>Last run: 29 Aug 2024</p>
</div>
</div>

    <div class="pipeline-card">
<div class="pipeline-header">
<h5>Pipeline 2</h5>
<span>...</span>
</div>
<div class="status-failed">Failed</div>
<div class="pipeline-info">
<p>Version: 1.0</p>
<p>Last run: 29 Aug 2024</p>
</div>
</div>

    <div class="pipeline-card">
<div class="pipeline-header">
<h5>Pipeline 3</h5>
<span>...</span>
</div>
<div class="status-failed">Failed</div>
<div class="pipeline-info">
<p>Version: 1.0</p>
<p>Last run: 29 Aug 2024</p>
</div>
</div>
</div> -->

<!-- Graphs -->

<mat-card class="visualization-card">
  <mat-card-header>
    <mat-card-title>Pipeline Build Visualization</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <div class="visualization-container">
      <div class="chart-container"></div>
      <div class="details-panel" [class.open]="selectedBuild" #detailsPanel>
        <div class="details-header" *ngIf="selectedBuild">
          <h2>Build Details</h2>
          <button mat-icon-button (click)="closeDetails()">
            <mat-icon>close</mat-icon>
          </button>
        </div>
        <div class="details-content" *ngIf="selectedBuild">
          <div class="build-status" [class]="selectedBuild.result.toLowerCase()">
            <mat-icon>{{getStatusIcon(selectedBuild.result)}}</mat-icon>
            <span>{{selectedBuild.result}}</span>
          </div>
          
          <div class="details-section">
            <h3>General Information</h3>
            <div class="detail-item">
              <span class="label">Build Number:</span>
              <span class="value">{{selectedBuild.buildNumber}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Status:</span>
              <span class="value">{{selectedBuild.status}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Priority:</span>
              <span class="value">{{selectedBuild.priority}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Reason:</span>
              <span class="value">{{selectedBuild.reason}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Revision:</span>
              <span class="value">{{selectedBuild.buildNumberRevision}}</span>
            </div>
          </div>

          <div class="details-section">
            <h3>Timing Information</h3>
            <div class="detail-item">
              <span class="label">Queue Time:</span>
              <span class="value">{{formatDate(selectedBuild.queueTime)}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Start Time:</span>
              <span class="value">{{formatDate(selectedBuild.startTime)}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Finish Time:</span>
              <span class="value">{{formatDate(selectedBuild.finishTime)}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Queue Duration:</span>
              <span class="value">{{calculateQueueDuration(selectedBuild)}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Build Duration:</span>
              <span class="value">{{calculateBuildDuration(selectedBuild)}}</span>
            </div>
          </div>

          <div class="details-section">
            <h3>Repository Information</h3>
            <div class="detail-item">
              <span class="label">Type:</span>
              <span class="value">{{selectedBuild.repository.type}}</span>
            </div>
            <div class="detail-item">
              <span class="label">ID:</span>
              <span class="value">{{selectedBuild.repository.id}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Submodules:</span>
              <span class="value">{{selectedBuild.repository.checkoutSubmodules ? 'Yes' : 'No'}}</span>
            </div>
          </div>

          <div class="details-section">
            <h3>Change Information</h3>
            <div class="detail-item">
              <span class="label">Last Changed:</span>
              <span class="value">{{formatDate(selectedBuild.lastChangedDate)}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Changed By:</span>
              <span class="value">{{selectedBuild.lastChangedBy.displayName}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Requested By:</span>
              <span class="value">{{selectedBuild.requestedBy.displayName}}</span>
            </div>
          </div>

          <div class="details-section">
            <h3>Additional Information</h3>
            <div class="detail-item">
              <span class="label">Retained:</span>
              <span class="value">{{selectedBuild.retainedByRelease ? 'Yes' : 'No'}}</span>
            </div>
            <div class="detail-item">
              <span class="label">Append Commit:</span>
              <span class="value">{{selectedBuild.appendCommitMessageToRunName ? 'Yes' : 'No'}}</span>
            </div>
          </div>
            
          <div class="actions">
            <button mat-raised-button color="primary" (click)="openBuildUrl(selectedBuild)">
              <mat-icon>open_in_new</mat-icon>
              Open Build
            </button>
          </div>
        </div>
      </div>
    </div>
  </mat-card-content>
</mat-card>









  <br><br>
  <!-- RECENT RUNS -->
  

<!-- <div class="container">
  <h2>Recent Runs</h2>
  <table>
      <thead>
          <tr>
              <th>RunId</th>
              <th>Pipeline Name</th>
              <th>Duration</th>
              <th>Status</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          <tr>
              <td>#001</td>
              <td>Merged PR to Main</td>
              <td>3h 23m 40s</td>
              <td><span class="status building">Building</span></td>
              <td>
                  <button class="view-btn"><i class="fas fa-eye"></i></button>
                  <button class="edit-btn"><i class="fas fa-edit"></i></button>
              </td>
          </tr>
          <tr>
              <td>#876368</td>
              <td>Run Web regression</td>
              <td>2h 10m 23s</td>
              <td><span class="status building">Building</span></td>
              <td>
                  <button class="view-btn"><i class="fas fa-eye"></i></button>
                  <button class="edit-btn"><i class="fas fa-edit"></i></button>
              </td>
          </tr>
          <tr>
              <td>#876412</td>
              <td>Run mobile Regression</td>
              <td>1h 05m 1s</td>
              <td><span class="status completed">Completed</span></td>
              <td>
                  <button class="view-btn"><i class="fas fa-eye"></i></button>
                  <button class="edit-btn"><i class="fas fa-edit"></i></button>
              </td>
          </tr>
      </tbody>
  </table>
</div> -->

















  